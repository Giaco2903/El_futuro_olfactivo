<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Perfil Olfativo: Descubre tu Aroma</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fcfafa; color: #333d47; }
        .section-title { color: #4a7c59; border-bottom: 2px solid #4a7c59; padding-bottom: 0.75rem; margin-bottom: 1.5rem; font-weight: 700; font-size: 1.875rem; }
        .subsection-title { color: #5c8d89; margin-top: 2rem; margin-bottom: 1rem; font-weight: 600; font-size: 1.5rem; }
        .card { background-color: #ffffff; border-radius: 0.75rem; box-shadow: 0 0.75rem 1.5rem rgba(0,0,0,0.08); padding: 2rem; margin-bottom: 2rem; }
        .adjective-btn, .time-btn, .intensity-btn, .season-btn {
            background-color: #e0e0e0;
            color: #333d47;
            border-radius: 9999px;
            padding: 0.6rem 1.2rem;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid #d1d1d1;
            cursor: pointer;
            user-select: none; /* Prevent text selection */
        }
        .adjective-btn:hover, .time-btn:hover, .intensity-btn:hover, .season-btn:hover {
            background-color: #d1d1d1;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .selected-adjective, .selected-time, .selected-intensity, .selected-season {
            background-color: #5c8d89;
            color: white;
            border-color: #5c8d89;
            box-shadow: 0 4px 8px rgba(92, 141, 137, 0.4);
        }
        .selected-adjective:hover, .selected-time:hover, .selected-intensity:hover, .selected-season:hover {
            background-color: #4a7c76;
            border-color: #4a7c76;
        }
        input[type="checkbox"], input[type="radio"] {
            accent-color: #5c8d89;
            border-radius: 0.25rem;
            width: 1.15em;
            height: 1.15em;
            margin-right: 0.5rem;
            flex-shrink: 0;
            cursor: pointer;
        }
        .badge {
            display: inline-block;
            padding: 0.25em 0.6em;
            font-size: 0.7em;
            font-weight: 600;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            border-radius: 0.375rem;
            margin-left: 0.5rem;
        }
        .badge-info { background-color: #a8d8d4; color: #3a6b67; }
        .badge-success { background-color: #c8e6c9; color: #4a7c59; }
        .badge-warning { background-color: #ffe082; color: #e0a800; }

        .tooltip { position: relative; display: inline-block; }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 240px;
            background-color: #333d47;
            color: #fff;
            text-align: center;
            border-radius: 0.375rem;
            padding: 0.6rem 0.8rem;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -120px;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 0.85rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -8px;
            border-width: 8px;
            border-style: solid;
            border-color: #333d47 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .fragrance-card {
            background-color: #fefefe;
            border: 1px solid #e0e0e0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .fragrance-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .mood-board {
            min-height: 100px;
            background-color: #f0f4f8;
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: background-color 0.5s ease;
            box-shadow: inset 0 0 8px rgba(0,0,0,0.05);
        }
        .mood-icon {
            font-size: 2.5rem;
            opacity: 0.7;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .mood-icon:hover {
            transform: scale(1.1);
            opacity: 1;
        }
        .profile-summary-item {
            display: flex;
            align-items: flex-start; /* Align items to the top */
            margin-bottom: 0.5rem;
        }
        .profile-summary-item span {
            font-weight: 600; /* Bolder for labels */
            color: #4a7c59;
            margin-right: 0.75rem; /* More space */
            min-width: 120px; /* Ensure labels align */
        }
        .profile-summary-item p {
            color: #333d47;
            flex-grow: 1; /* Allow content to take remaining space */
        }
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #5c8d89;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .share-button {
            background-color: #f0f4f8;
            color: #333d47;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .share-button:hover {
            background-color: #e2e8f0;
            transform: translateY(-2px);
        }
        .contact-section {
            background-color: #f7f7f7;
            border-radius: 0.75rem;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.05);
        }
        .contact-section label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .contact-section input[type="text"],
        .contact-section input[type="email"],
        .contact-section textarea {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 0.375rem;
            box-sizing: border-box;
            font-size: 1rem;
        }
        .contact-section textarea {
            min-height: 100px;
        }
        .contact-section button {
            background-color: #5c8d89;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s ease;
        }
        .contact-section button:hover {
            background-color: #4a7c76;
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <div class="container mx-auto p-6 md:p-10 max-w-4xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-900 mb-3">Descubre Tu Perfil Olfativo</h1>
            <p class="text-lg text-gray-600">Una experiencia interactiva para encontrar la fragancia que realmente te define.</p>
        </header>

        <section class="card">
            <h2 class="section-title">1. Adjetivos que me Describen</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Elige los adjetivos que mejor te describen o resuenan con tu personalidad. Puedes seleccionar varios para capturar la esencia de qui√©n eres:</p>
            <div id="adjectiveButtons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
                <button class="adjective-btn" data-adjective="Sofisticado" data-icon="üé©">Sofisticado</button>
                <button class="adjective-btn" data-adjective="Energ√©tico" data-icon="‚ö°">Energ√©tico</button>
                <button class="adjective-btn" data-adjective="Rom√°ntico" data-icon="üíñ">Rom√°ntico</button>
                <button class="adjective-btn" data-adjective="Misterioso" data-icon="üîÆ">Misterioso</button>
                <button class="adjective-btn" data-adjective="Fresco" data-icon="üçÉ">Fresco</button>
                <button class="adjective-btn" data-adjective="Elegante" data-icon="‚ú®">Elegante</button>
                <button class="adjective-btn" data-adjective="Natural" data-icon="üå≥">Natural</button>
                <button class="adjective-btn" data-adjective="Vibrante" data-icon="üåà">Vibrante</button>
                <button class="adjective-btn" data-adjective="Apasionado" data-icon="üî•">Apasionado</button>
                <button class="adjective-btn" data-adjective="Sereno" data-icon="üßò">Sereno</button>
                <button class="adjective-btn" data-adjective="Aut√©ntico" data-icon="üóùÔ∏è">Aut√©ntico</button>
                <button class="adjective-btn" data-adjective="√önico" data-icon="üíé">√önico</button>
                <button class="adjective-btn" data-adjective="Chispeante" data-icon="üçæ">Chispeante</button>
                <button class="adjective-btn" data-adjective="Femenina" data-icon="üå∏">Femenina</button>
                <button class="adjective-btn" data-adjective="Tranquila" data-icon="‚òÅÔ∏è">Tranquila</button>
                <button class="adjective-btn" data-adjective="Atrevido" data-icon="üöÄ">Atrevido</button>
                <button class="adjective-btn" data-adjective="Cl√°sico" data-icon="üèõÔ∏è">Cl√°sico</button>
                <button class="adjective-btn" data-adjective="Moderno" data-icon="üèôÔ∏è">Moderno</button>
            </div>
            <div class="mt-5">
                <label for="otrosAdjetivos" class="block text-gray-700 text-sm font-semibold mb-2">O a√±ade tus propios adjetivos (separados por comas):</label>
                <input type="text" id="otrosAdjetivos" class="shadow-sm appearance-none border border-gray-300 rounded-md w-full py-2.5 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-300 transition duration-200" placeholder="Ej: Calmado, Audaz, Creativo">
            </div>
            <div class="mt-8">
                <h3 class="subsection-title">Tu Mood Board Olfativo</h3>
                <div id="moodBoard" class="mood-board">
                    <p class="text-gray-500 text-sm">Selecciona adjetivos para ver tu mood board.</p>
                </div>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">2. Familias Olfativas que Prefiero</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Marca las familias olfativas que m√°s te atraen. Esto nos ayuda a entender tus preferencias generales de aroma:</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Floral"><span class="fontfont-medium">Floral</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Amaderada"><span class="font-medium">Amaderada</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="C√≠trica"><span class="font-medium">C√≠trica</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Oriental"><span class="font-medium">Oriental</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Chipre"><span class="font-medium">Chipre</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Helechos"><span class="font-medium">Helechos (Foug√®re)</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Cuero"><span class="font-medium">Cuero</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Gourmand"><span class="font-medium">Gourmand <span class="badge badge-success">Emergente</span></span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Acu√°tica"><span class="font-medium">Acu√°tica/Agua <span class="badge badge-info">Emergente</span></span>
                </label>
                 <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Frutal"><span class="font-medium">Frutal</span>
                </label>
                 <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-family="Especiada"><span class="font-medium">Especiada</span>
                </label>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">3. Notas que me Atraen</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Selecciona las notas de fragancia espec√≠ficas que te resultan m√°s atractivas. Estas son las esencias individuales que componen un perfume:</p>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3">
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Vainilla"><span class="font-medium">Vainilla</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Bergamota"><span class="font-medium">Bergamota</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="S√°ndalo"><span class="font-medium">S√°ndalo</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Rosa"><span class="font-medium">Rosa</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Jazm√≠n"><span class="font-medium">Jazm√≠n</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="√Åmbar Gris"><span class="font-medium">√Åmbar Gris</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Lim√≥n"><span class="font-medium">Lim√≥n</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Tabaco"><span class="font-medium">Tabaco</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Almizcle"><span class="font-medium">Almizcle</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Pachul√≠"><span class="font-medium">Pachul√≠</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Sal Marina"><span class="font-medium">Sal Marina</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Oud"><span class="font-medium">Oud</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Vetiver"><span class="font-medium">Vetiver</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Pimienta"><span class="font-medium">Pimienta</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Higo"><span class="font-medium">Higo</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Naranja Sanguina"><span class="font-medium">Naranja Sanguina</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Nardo"><span class="font-medium">Nardo</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Cedro"><span class="font-medium">Cedro</span></label>
                <label class="flex items-center text-gray-700 text-base py-1"><input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-note="Iris"><span class="font-medium">Iris</span></label>
            </div>
            <div class="mt-5">
                <label for="otrasNotas" class="block text-gray-700 text-sm font-semibold mb-2">O lista tus notas favoritas (separadas por comas):</label>
                <input type="text" id="otrasNotas" class="shadow-sm appearance-none border border-gray-300 rounded-md w-full py-2.5 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-300 transition duration-200" placeholder="Ej: Almendra, Cereza, Ruibarbo">
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">4. Ocasiones para Usar Perfume</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">¬øEn qu√© ocasiones sueles usar perfume? Selecciona todas las que apliquen a tu estilo de vida:</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Diario"><span class="font-medium">Diario / Trabajo / Escuela</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Noche"><span class="font-medium">Citas Nocturnas / Salidas Nocturnas</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Formal"><span class="font-medium">Eventos Formales / Bodas</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Vers√°til"><span class="font-medium">Aroma Vers√°til / Firma</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Casual"><span class="font-medium">Casual / Fines de Semana</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-occasion="Deporte"><span class="font-medium">Deporte / Actividad F√≠sica</span>
                </label>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">5. ¬øQu√© busco en una fragancia?</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Indica qu√© atributos son importantes para ti en un perfume. Pasa el rat√≥n sobre el texto para ver una breve explicaci√≥n:</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Longevidad"><span class="font-medium">Que dure mucho (Longevidad)</span>
                    <span class="tooltiptext">Indica cu√°nto tiempo permanece el aroma en la piel.</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Estela"><span class="font-medium">Que deje una estela notable (Sillage)</span>
                    <span class="tooltiptext">El rastro arom√°tico que deja una persona al moverse.</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Proyecci√≥n"><span class="font-medium">Que se perciba a distancia (Proyecci√≥n)</span>
                    <span class="tooltiptext">La distancia a la que el perfume irradia desde la piel.</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Calidad"><span class="font-medium">Que sea de alta calidad</span>
                    <span class="tooltiptext">Se refiere a la riqueza, complejidad y originalidad de la composici√≥n.</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Versatilidad"><span class="font-medium">Que sea vers√°til (para varias ocasiones)</span>
                    <span class="tooltiptext">Adecuado para diferentes entornos y estaciones del a√±o.</span>
                </label>
                <label class="flex items-center text-gray-700 text-base py-1 tooltip">
                    <input type="checkbox" class="form-checkbox h-5 w-5 mr-3" data-attribute="Frescura"><span class="font-medium">Que sea fresca</span>
                    <span class="tooltiptext">Aroma limpio, n√≠tido, a menudo asociado con c√≠tricos, herbales o acu√°ticos.</span>
                </label>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">6. Estaciones y Climas Preferidos</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">¬øPara qu√© estaciones o tipos de clima buscas fragancias? (Puedes seleccionar varios)</p>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                <button class="season-btn" data-season="Primavera">üå∏ Primavera</button>
                <button class="season-btn" data-season="Verano">‚òÄÔ∏è Verano</button>
                <button class="season-btn" data-season="Oto√±o">üçÇ Oto√±o</button>
                <button class="season-btn" data-season="Invierno">‚ùÑÔ∏è Invierno</button>
                <button class="season-btn" data-season="C√°lido">üå°Ô∏è Clima C√°lido</button>
                <button class="season-btn" data-season="Fr√≠o">ü•∂ Clima Fr√≠o</button>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">7. Momento del D√≠a Preferido</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">¬øPara qu√© momento del d√≠a buscas tu fragancia ideal? (Puedes seleccionar varios)</p>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                <button class="time-btn" data-time="Ma√±ana">üåÖ Ma√±ana</button>
                <button class="time-btn" data-time="Tarde">üåÜ Tarde</button>
                <button class="time-btn" data-time="Noche">üåÉ Noche</button>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">8. Nivel de Intensidad Deseado</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">¬øQu√© nivel de intensidad prefieres en tu fragancia?</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <button class="intensity-btn" data-intensity="Muy Sutil">Muy Sutil (Poca presencia)</button>
                <button class="intensity-btn" data-intensity="Sutil">Sutil (Discreta)</
                    </button>
                <button class="intensity-btn" data-intensity="Moderado">Moderado (Equilibrada)</button>
                <button class="intensity-btn" data-intensity="Intenso">Intenso (Notable)</button>
                <button class="intensity-btn" data-intensity="Muy Intenso">Muy Intenso (Fuerte y duradera)</button>
            </div>
        </section>

        <section class="card">
            <h2 class="section-title">9. Fragancias que me Gustan (Opcional)</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Si lo deseas, puedes mencionar algunas fragancias que ya te gustan. Esto nos ayudar√° a refinar a√∫n m√°s las recomendaciones:</p>
            <label for="currentFragrances" class="block text-gray-700 text-sm font-semibold mb-2">Fragancias que disfruto (separadas por comas):</label>
            <input type="text" id="currentFragrances" class="shadow-sm appearance-none border border-gray-300 rounded-md w-full py-2.5 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-300 transition duration-200" placeholder="Ej: Chanel No. 5, Dior Sauvage, Jo Malone Lime Basil & Mandarin">
        </section>

        <section class="card">
            <h2 class="section-title">10. Fragancias que NO me Gustan (Opcional)</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Si hay alguna fragancia que no te agrade, puedes indicarla aqu√≠ para evitar recomendaciones similares:</p>
            <label for="dislikedFragrances" class="block text-gray-700 text-sm font-semibold mb-2">Fragancias que no me gustan (separadas por comas):</label>
            <input type="text" id="dislikedFragrances" class="shadow-sm appearance-none border border-gray-300 rounded-md w-full py-2.5 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-300 transition duration-200" placeholder="Ej: Thierry Mugler Angel, Lanc√¥me La Vie Est Belle">
        </section>

        <section class="text-center my-10">
            <button id="recommendButton" class="bg-teal-500 hover:bg-teal-700 text-white font-bold py-3 px-6 rounded-full text-lg transition duration-300">
                <i class="fas fa-magic mr-2"></i> Recomi√©ndame Fragancias Ideales
            </button>
            <div id="recommendationResults" class="mt-8">
                </div>
        </section>

        <section class="contact-section">
            <h2 class="section-title">¬°Cont√°ctame!</h2>
            <p class="text-gray-700 mb-4 leading-relaxed">Si tienes alguna pregunta o simplemente quieres compartir tu experiencia, no dudes en ponerte en contacto.</p>
            <form action="mailto:alegiacomelli@icloud.com" method="post" enctype="text/plain">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="pregunta">Tu Pregunta:</label>
                <textarea id="pregunta" name="pregunta" rows="5" required></textarea>

                <button type="submit">Enviar Pregunta</button>
            </form>
        </section>
    </div>

    <script>
        const adjectiveButtons = document.querySelectorAll('#adjectiveButtons .adjective-btn');
        const moodBoard = document.getElementById('moodBoard');
        const otrosAdjetivosInput = document.getElementById('otrosAdjetivos');
        const familyCheckboxes = document.querySelectorAll('#familiesSection input[type="checkbox"]');
        const noteCheckboxes = document.querySelectorAll('#notesSection input[type="checkbox"]');
        const occasionCheckboxes = document.querySelectorAll('#occasionsSection input[type="checkbox"]');
        const attributeCheckboxes = document.querySelectorAll('#attributesSection input[type="checkbox"]');
        const seasonButtons = document.querySelectorAll('#seasonsSection .season-btn');
        const timeButtons = document.querySelectorAll('#timeOfDaySection .time-btn');
        const intensityButtons = document.querySelectorAll('#intensitySection .intensity-btn');
        const currentFragrancesInput = document.getElementById('currentFragrances');
        const dislikedFragrancesInput = document.getElementById('dislikedFragrances');
        const recommendButton = document.getElementById('recommendButton');
        const recommendationResultsDiv = document.getElementById('recommendationResults');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const otrasNotasInput = document.getElementById('otrasNotas');

        let selectedAdjectives = new Set();
        let selectedFamilies = new Set();
        let selectedNotes = new Set();
        let selectedOccasions = new Set();
        let selectedAttributes = new Set();
        let selectedSeasons = new Set();
        let selectedTimes = new Set();
        let selectedIntensity = null;

        function updateMoodBoard() {
            moodBoard.innerHTML = '';
            selectedAdjectives.forEach(adjective => {
                const button = document.createElement('span');
                button.classList.add('inline-flex', 'items-center', 'rounded-full', 'bg-teal-100', 'text-teal-800', 'text-xs', 'font-medium', 'px-2.5', 'py-0.5');
                const icon = adjectiveButtons.find(btn => btn.dataset.adjective === adjective)?.dataset.icon || '‚ú®';
                button.innerHTML = `${icon} ${adjective} <button type="button" class="inline-flex items-center ml-1.5 -mr-0.5 h-4 w-4 rounded-full hover:bg-teal-200 focus:outline-none focus:ring-2 focus:ring-teal-500" aria-label="Remove">
                    <span class="sr-only">Remove badge</span>
                    <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m1 1 6 6m0-6L1 7"/>
                    </svg>
                </button>`;
                const removeButton = button.querySelector('button');
                removeButton.addEventListener('click', () => {
                    selectedAdjectives.delete(adjective);
                    const relatedAdjectiveButton = Array.from(adjectiveButtons).find(btn => btn.dataset.adjective === adjective);
                    if (relatedAdjectiveButton) {
                        relatedAdjectiveButton.classList.remove('selected-adjective');
                    }
                    updateMoodBoard();
                });
                moodBoard.appendChild(button);
            });
            if (selectedAdjectives.size === 0) {
                moodBoard.innerHTML = '<p class="text-gray-500 text-sm">Selecciona adjetivos para ver tu mood board.</p>';
            }
        }

        adjectiveButtons.forEach(button => {
            button.addEventListener('click', function() {
                const adjective = this.dataset.adjective;
                if (selectedAdjectives.has(adjective)) {
                    selectedAdjectives.delete(adjective);
                    this.classList.remove('selected-adjective');
                } else {
                    selectedAdjectives.add(adjective);
                    this.classList.add('selected-adjective');
                }
                updateMoodBoard();
            });
        });

        otrosAdjetivosInput.addEventListener('change', function() {
            const nuevosAdjetivos = this.value.split(',').map(s => s.trim()).filter(s => s !== '');
            nuevosAdjetivos.forEach(adjetivo => {
                if (!selectedAdjectives.has(adjetivo)) {
                    selectedAdjectives.add(adjetivo);
                    // Consider adding a visual cue for these added adjectives if needed
                }
            });
            this.value = ''; // Clear the input after adding
            updateMoodBoard();
        });

        familyCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    selectedFamilies.add(this.dataset.family);
                } else {
                    selectedFamilies.delete(this.dataset.family);
                }
            });
        });

        noteCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    selectedNotes.add(this.dataset.note);
                } else {
                    selectedNotes.delete(this.dataset.note);
                }
            });
        });

        occasionCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    selectedOccasions.add(this.dataset.occasion);
                } else {
                    selectedOccasions.delete(this.dataset.occasion);
                }
            });
        });

        attributeCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    selectedAttributes.add(this.dataset.attribute);
                } else {
                    selectedAttributes.delete(this.dataset.attribute);
                }
            });
        });

        seasonButtons.forEach(button => {
            button.addEventListener('click', function() {
                const season = this.dataset.season;
                if (selectedSeasons.has(season)) {
                    selectedSeasons.delete(season);
                    this.classList.remove('selected-season');
                } else {
                    selectedSeasons.add(season);
                    this.classList.add('selected-season');
                }
            });
        });

        timeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const time = this.dataset.time;
                if (selectedTimes.has(time)) {
                    selectedTimes.delete(time);
                    this.classList.remove('selected-time');
                } else {
                    selectedTimes.add(time);
                    this.classList.add('selected-time');
                }
            });
        });

        intensityButtons.forEach(button => {
            button.addEventListener('click', function() {
                if (selectedIntensity === this.dataset.intensity) {
                    selectedIntensity = null;
                    intensityButtons.forEach(btn => btn.classList.remove('selected-intensity'));
                } else {
                    selectedIntensity = this.dataset.intensity;
                    intensityButtons.forEach(btn => btn.classList.remove('selected-intensity'));
                    this.classList.add('selected-intensity');
                }
            });
        });

        otrasNotasInput.addEventListener('change', function() {
            const nuevasNotas = this.value.split(',').map(s => s.trim()).filter(s => s !== '');
            nuevasNotas.forEach(nota => {
                if (!selectedNotes.has(nota)) {
                    selectedNotes.add(nota);
                    // Optionally add a visual cue
                }
            });
            this.value = ''; // Clear the input
        });

        const fragranceDatabase = [
            {
                name: "Floral Breeze",
                brand: "Aqua Florals",
                families: ["Floral", "Acu√°tica"],
                notes: ["Rosa", "Jazm√≠n", "Sal Marina", "Almizcle"],
                adjectives: ["Fresco", "Rom√°ntico", "Natural"],
                occasions: ["Diario", "Casual"],
                attributes: ["Frescura", "Versatilidad"],
                seasons: ["Primavera", "Verano"],
                times: ["Ma√±ana", "Tarde"],
                intensity: "Sutil",
                similarTo: [],
                oppositeTo: []
            },
            {
                name: "Woody Elegance",
                brand: "Terra Woods",
                families: ["Amaderada", "Especiada"],
                notes: ["S√°ndalo", "Cedro", "Pimienta Negra", "Vetiver"],
                adjectives: ["Sofisticado", "Elegante", "Misterioso"],
                occasions: ["Noche", "Formal"],
                attributes: ["Longevidad", "Calidad"],
                seasons: ["Oto√±o", "Invierno"],
                times: ["Tarde", "Noche"],
                intensity: "Moderado",
                similarTo: [],
                oppositeTo: []
            },
            {
                name: "Citrus Burst",
                brand: "Zesty Scents",
                families: ["C√≠trica", "Arom√°tica"],
                notes: ["Bergamota", "Lim√≥n", "Menta", "Albahaca"],
                adjectives: ["Energ√©tico", "Vibrante", "Fresco"],
                occasions: ["Diario", "Deporte"],
                attributes: ["Frescura", "Estela"],
                seasons: ["Primavera", "Verano"],
                times: ["Ma√±ana", "Tarde"],
                intensity: "Sutil",
                similarTo: [],
                oppositeTo: []
            },
             {
                name: "Oriental Mystery",
                brand: "Desert Aromas",
                families: ["Oriental", "Especiada"],
                notes: ["Vainilla", "√Åmbar", "Cardamomo", "Oud"],
                adjectives: ["Misterioso", "C√°lido", "Apasionado"],
                occasions: ["Noche", "Citas Nocturnas"],
                attributes: ["Longevidad", "Estela"],
                seasons: ["Oto√±o", "Invierno"],
                times: ["Tarde", "Noche"],
                intensity: "Intenso",
                similarTo: [],
                oppositeTo: []
            },
            {
                name: "Fruity Delight",
                brand: "Sweet Airs",
                families: ["Frutal", "Floral"],
                notes: ["Manzana", "Pera", "Rosa", "Almizcle"],
                adjectives: ["Rom√°ntico", "Chispeante", "Femenina"],
                occasions: ["Diario", "Casual"],
                attributes: ["Versatilidad", "Frescura"],
                seasons: ["Primavera", "Verano"],
                times: ["Ma√±ana", "Tarde"],
                intensity: "Sutil",
                similarTo: [],
                oppositeTo: []
            },
            {
                name: "Leathery Woods",
                brand: "Hide & Timber",
                families: ["Cuero", "Amaderada"],
                notes: ["Cuero", "Tabaco", "Vetiver", "Pachul√≠"],
                adjectives: ["Atrevido", "√önico", "Cl√°sico"],
                occasions: ["Noche", "Formal"],
                attributes: ["Longevidad", "Calidad"],
                seasons: ["Oto√±o", "Invierno"],
                times: ["Tarde", "Noche"],
                intensity: "Moderado",
                similarTo: [],
                oppositeTo: []
            },
             {
                name: "Gourmand Dream",
                brand: "Sugar & Spice",
                families: ["Gourmand", "Vainilla"],
                notes: ["Vainilla", "Caramelo", "Almendra", "Haba Tonka"],
                adjectives: ["C√°lido", "Acogedor", "Dulce"],
                occasions: ["Casual", "Noche"],
                attributes: ["Longevidad", "Estela"],
                seasons: ["Oto√±o", "Invierno"],
                times: ["Tarde", "Noche"],
                intensity: "Moderado",
                similarTo: [],
                oppositeTo: []
            },
            {
                name: "Aquatic Fresh",
                brand: "Ocean Breeze",
                families: ["Acu√°tica", "Arom√°tica"],
                notes: ["Sal Marina", "Algas", "Madera Flotante", "C√≠tricos"],
                adjectives: ["Fresco", "Natural", "Sereno"],
                occasions: ["Diario", "Verano"],
                attributes: ["Frescura", "Versatilidad"],
                seasons: ["Primavera", "Verano"],
                times: ["Ma√±ana", "Tarde"],
                intensity: "Sutil",
                similarTo: [],
                oppositeTo: []
            }
        ];

        function calculateScore(fragrance) {
            let score = 0;
            const userAdjectives = Array.from(selectedAdjectives).map(adj => adj.toLowerCase());
            const fragranceAdjectives = fragrance.adjectives.map(adj => adj.toLowerCase());
            const commonAdjectives = userAdjectives.filter(adj => fragranceAdjectives.includes(adj));
            score += commonAdjectives.length * 5;

            const userFamilies = Array.from(selectedFamilies).map(fam => fam.toLowerCase());
            const fragranceFamilies = fragrance.families.map(fam => fam.toLowerCase());
            const commonFamilies = userFamilies.filter(fam => fragranceFamilies.includes(fam));
            score += commonFamilies.length * 3;

            const userNotes = Array.from(selectedNotes).map(note => note.toLowerCase());
            const fragranceNotes = Object.values(fragrance.notes).flat().map(note => note.toLowerCase());
            const commonNotes = userNotes.filter(note => fragranceNotes.includes(note));
            score += commonNotes.length * 2;

            const userOccasions = Array.from(selectedOccasions).map(occ => occ.toLowerCase());
            const fragranceOccasions = fragrance.occasions.map(occ => occ.toLowerCase());
            const commonOccasions = userOccasions.filter(occ => fragranceOccasions.includes(occ));
            score += commonOccasions.length * 2;

            const userAttributes = Array.from(selectedAttributes).map(attr => attr.toLowerCase());
            const fragranceAttributes = fragrance.attributes.map(attr => attr.toLowerCase());
            const commonAttributes = userAttributes.filter(attr => fragranceAttributes.includes(attr));
            score += commonAttributes.length * 2.5;

            if (selectedSeasons.size > 0 && fragrance.seasons) {
                const userSeasons = Array.from(selectedSeasons).map(s => s.toLowerCase());
                const fragranceSeasons = fragrance.seasons.map(s => s.toLowerCase());
                const commonSeasons = userSeasons.filter(s => fragranceSeasons.includes(s));
                score += commonSeasons.length * 2;
            }

            if (selectedTimes.size > 0 && fragrance.times) {
                const userTimes = Array.from(selectedTimes).map(t => t.toLowerCase());
                const fragranceTimes = fragrance.times.map(t => t.toLowerCase());
                const commonTimes = userTimes.filter(t => fragranceTimes.includes(t));
                score += commonTimes.length * 1.5;
            }

            if (selectedIntensity && fragrance.intensity && selectedIntensity.toLowerCase() === fragrance.intensity.toLowerCase()) {
                score += 4;
            }

            const likedFragrancesInput = currentFragrancesInput.value.toLowerCase().split(',').map(s => s.trim()).filter(s => s !== '');
            likedFragrancesInput.forEach(liked => {
                if (fragrance.similarTo && fragrance.similarTo.map(s => s.toLowerCase()).includes(liked)) {
                    score += 7;
                }
            });

            const dislikedFragrancesInputVal = dislikedFragrancesInput.value.toLowerCase().split(',').map(s => s.trim()).filter(s => s !== '');
            dislikedFragrancesInputVal.forEach(disliked => {
                if (fragrance.oppositeTo && fragrance.oppositeTo.map(o => o.toLowerCase()).includes(disliked)) {
                    score -= 5; // Penalize if similar to disliked
                } else if (fragrance.similarTo && fragrance.similarTo.map(s => s.toLowerCase()).includes(disliked)) {
                    score -= 8; // Stronger penalty if directly similar to disliked
                }
            });

            return score;
        }

        function generateFragranceSuggestions() {
            loadingOverlay.classList.add('active');
            setTimeout(() => {
                const scoredFragrances = fragranceDatabase.map(fragrance => ({
                    ...fragrance,
                    score: calculateScore(fragrance)
                }));

                const sortedFragrances = scoredFragrances.sort((a, b) => b.score - a.score);
                const topSuggestions = sortedFragrances.filter(f => f.score > 0).slice(0, 3);

                recommendationResultsDiv.innerHTML = '';
                if (topSuggestions.length > 0) {
                    topSuggestions.forEach(fragrance => {
                        const card = document.createElement('div');
                        card.classList.add('fragrance-card', 'p-6', 'rounded-md', 'shadow-md', 'mb-4');
                        card.innerHTML = `
                            <h3 class="text-xl font-semibold text-teal-700 mb-2">${fragrance.name} (${fragrance.brand})</h3>
                            <p class="text-gray-600 mb-1">Familias: ${fragrance.families.join(', ')}</p>
                            <p class="text-gray-600 mb-1">Notas principales: ${Object.values(fragrance.notes).flat().slice(0, 5).join(', ')}...</p>
                            <p class="text-gray-600">Por qu√© te podr√≠a gustar: Coincide con tus preferencias en ${calculateScore(fragrance) > 0 ? `al menos ${Math.round(calculateScore(fragrance) / (Object.keys(fragrance).length * 2))} aspectos` : 'algunos aspectos'}.</p>
                        `;
                        recommendationResultsDiv.appendChild(card);
                    });
                } else {
                    recommendationResultsDiv.innerHTML = '<p class="text-gray-700">No se encontraron sugerencias basadas en tus selecciones.</p>';
                }
                loadingOverlay.classList.remove('active');
            }, 500);
        }

        recommendButton.addEventListener('click', generateFragranceSuggestions);
    </script>
</body>
</html>
